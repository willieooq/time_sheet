<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<meta charset="utf-8">

<head>
  <title>Log book</title>
  <!-- css -->
  <link th:href="@{/css/main_style.css}" type="text/css" href="../static/css/main_style.css" rel="stylesheet" />
  <!-- js -->
  <script type="text/javascript" src="../static/js/alert.js" th:src="@{/js/alert.js}"></script>
<!--  <script th:inline="javascript">-->
<!--    -->
<!--  </script>-->
  <!--  <script>testFunction();</script>-->

  <div id="header" >
    <!-- DBS image -->
    <a th:href="@{hello}" style="position:relative;top:15px;"><img th:src="@{images/dbs_image.png}" src="../static/images/dbs_image.png" width="175" height="75"></a>
  </div>
  <div id="nav"></div>
</head>

<body>
<div class="alert alert-primary" role="alert" th:if="${success}"><script>deleteSuccess()</script></div>
<div class="alert alert-danger" role="alert" th:if="${error}"><script>deleteFailed()</script></div>　

<div id="sitebody" align="center"> 　
  <!-- form -->
  <form th:action="@{/deleteRecord}" method="post">　
    <div align="center" id = "content">
      <p align="left"><button type="submit">刪除</button>
      <table align='center' border='1' cellspacing='0' width=100%>
        <thead>
        <tr>
          <th>選取</th>
          <th>名稱</th>
          <th>日期</th>
          <th>開始時間</th>
          <th>結束時間</th>
          <th>Platform</th>
          <th>Detail</th>
        </tr>
        </thead>
        <tbody>
        <!--    這邊其實是對的，但IJ會報錯我也不知道為什麼    -->
        <tr th:each="worktime:${pageInfo.list}">
          <td><input type="checkbox" name="Ids" th:value="${worktime.id}"></td>
          <td th:text="${worktime.getUserId}"></td>
          <td th:text="${worktime.date}"></td>
          <td th:text="${#strings.substring(worktime.getStartTime,0,5)}"></td>
          <td th:text="${#strings.substring(worktime.getEndTime,0,5)}"></td>
          <td th:text="${worktime.platform}"></td>
          <td th:text="${worktime.detail}"></td>
        </tr>
        </tbody>
      </table>
      <br>
      <div>
        <a th:href="'?pageNum=1'">[首 頁]</a>
        <a th:href="'?pageNum='+${(pageInfo.pageNum)-1}">[上一頁]</a>
        <a th:href="'?pageNum='+${(pageInfo.pageNum)+1}">[下一頁]</a>
        <a th:href="'?pageNum='+${pageInfo.pageNum}">[末 頁]</a>
      </div>
      <div>
<!--        <p th:text="'當前第 [ '+${pageInfo.pageNum}+' ]頁，共 [ '+${pageInfo.pages}+' ] 頁， 共 [ '+${pageInfo.total}+' ] 條記錄'"></p>-->
      </div>

    </div>
  </form>
  <!-- footer image -->
  <div id="footer"></div>
</div>
</body>

</html>